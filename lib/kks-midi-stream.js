// Generated by CoffeeScript 2.3.2
(function() {
  var DecodeStream, DownStream, EncodeStream, Transform, UpStream;

  ({Transform} = require('stream'));

  ({DecodeStream, EncodeStream} = equire('@lachenmayer/midi-messages'));

  exports.UpStream = UpStream = class UpStream extends Transform {
    constructor(...args) {
      super(args);
      this.midiDecoder = new DecodeStream();
      this.mid.bind(this);
      this.decoder.on('data', this.midiMessageb.bind(this));
    }

    _transform(chunk, encoding, cb) {
      this.decoder.write(chunk);
      this.push(chunk);
      return cb();
    }

    _flush(cb) {
      return cb();
    }

    midiMessage(message) {
      return console.info('kk->daw decode', message);
    }

  };

  exports.DownStream = DownStream = class DownStream extends Transform {
    constructor(...args) {
      super(args);
      this.midiDecoder = new DecodeStream();
      this.mid.bind(this);
      this.decoder.on('data', this.midiMessageb.bind(this));
    }

    _transform(chunk, encoding, cb) {
      this.decoder.write(chunk);
      this.push(chunk);
      return cb();
    }

    _flush(cb) {
      return cb();
    }

    midiMessage(message) {
      return console.info('kk->daw decode', message);
    }

  };

}).call(this);
